# 협력하는 객체들의 공동체

객체지향은 현실에 있는 것을 소프트웨어로 구현하는 작업인가?
오히려 새로운 세계를 창조하는 것이 더 옳다.

실세계 모방이라는 표현은 객체지향의 이해하는 데 도움이 된다.
객체를 생명체에 비유하여 상태와 행위를 캡슐화하는 객체의 자율성을 설명하는데 효과적이다.
현실의 사람들이 약속과 계약으로 협력하여 목표를 달성하는 것은 메시지를 주고받으며 협력하는 객체들을 설명하는데 효과적이다.

### 협력하는 사람들

혼자 일하는 것보다 여러 명이서 일하는 것이 더 효과적이다.
프로그래밍도 마찬가지 아닌가?

손님은 캐시어에게 커피를 주문한다.
캐시어는 주문받은 커피를 바리스타에게 만들어 요청한다.
이렇게 요청은 손님-캐시어-바리스타에게 연쇄적으로 발생한다.

요청을 하면 응답 역시 존재한다.
바리스타는 커피를 만들면 캐시어에게 커피를 주고 캐시어는 커피를 손님에게 전달한다.
응답은 요청과 반대 방향 바리스타-캐시어-손님으로 전달된다.
이렇든 커피를 마시기 위해 협력을 하여 문제를 해결한다.

사람들이 협력하는 상황에는 역할이 존재한다.
위에 과정에서도 손님, 캐시어, 바리스타라는 역할이 존재한다.

역할에서는 각각의 책임이 존재한다.
손님은 주문을 하고
캐시어는 주문을 받아 바리스타에게 전달하고
바리스타는 주문에 따라 커피를 만듭니다.

역할과 책임은 협력이 순조롭게 진행되게 위한 핵심적인 구성요소다.   
* 여러 사람이 동일한 역할을 수행할 수 있다. 캐시어는 여려 명일 수 있고 손님도 여려 명일 수 있다. 누가 역할은 하는 것은 중요치 않다.
* 역할은 대체 가능성을 의미한다. 캐시어를 하는 알바가 바뀌어도 협력하는데 지장이 생기지는 않는다.
* 책임을 수행하는 방법은 자유롭다. 바리스타마다 저마다 커피 만드는 방법이 있다. 이렇게 다른 방식으로 대답하는 것을 다형성이라 한다.
* 한 사람이 동시에 여러 역할을 수행할 수 있다. 한 사람이 캐시어와 바리스타를 동시에 수행할 수 있다.

### 협력 속에 사는 객체   
역할, 책임, 협력은 객체 가 존재하지 않으면 아무 의미가 없다.
기능 구현을 위해 협력을 하고 얼마나 조화롭게 이루어지는 것은 객체에게 달렸다.

객체는 다음과 같은 두 가지 덕목을 갖춰야 한다.
첫째 객체는 충분히 '협력적'이어야 한다.
다른 객체의 요청에 충실히 귀 기울이고 다른 객체에게 적극적으로 도움을 요청할 줄 알아야 한다.
두 번째로 '자율적' 이어야 한다.
수동적이지 않고 스스로 판단하고 원칙이 있어야 한다.

### 상태와 행동을 함께 지닌 자율적인 객체
객체는 상태와 행동을 지녔다.
객체는 협력에 참여하는 과정 속에서 스스로 자율적이기 위해서 필요한 행동과 상태를 지녀야만 한다.

자율성은 내부와 외부를 명확하게 구분해야 한다.
객체의 내부는 객체가 스스로 관리하며 외부에서 간섭할 수 없다
외부에서는 허락된 수단으로 의사소통을 하게 된다. 

객체는 과거에 비해 데이터와 프로세스를 함께 묶어 놓아 자율성을 보장한다.

### 협력과 메시지
객체지향 프로그래밍에서 의사소통 수단은 메시지뿐이다.    

### 메서드와 자율성
메시지를 통해 요청을 처리하는 방법은 메서드이다. 
외부의 요청인 메시지와 처리하는 메서드를 분리 시켜 자율성을 높인다.

## 객체지향의 본질
책에서의 객체지향의 개념을 다음과 같이 소개한다.

* 객체지향은 시스템의 상호작용을 자율적인 객체들의 공동체로 보고 객체를 이용해 시스템을 분할한다.
* 자율적인 객체란 상태와 행위를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미한다.
* 객체는 시스템 구현을 위해 다른 객체와 협력한다. 각 객체는 정해진 역할을 수행하며 역할은 관련된 책임의 집합이다.
* 객체는 다른 객체와 협력하기 위해 메시지를 전송하고 메시지를 수신한 객체는 적합한 메서드를 자율적으로 선택한다.

### 객체를 지향하라
객체를 생성하기 위해서는 클래스가 필요하다.
물론 아닌 경우도 있다.
클래스는 매우 중요한 구성요소 이지만 객체지향에서의 핵심은 객체이다.
클래스에 집중하지말고 객체의 역할, 책임, 협력에 




