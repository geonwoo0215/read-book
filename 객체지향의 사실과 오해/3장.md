# 타입과 추상화

지하철 노선도는 실제 지형을 기반으로 만들어지지 않고 승객들이 보기 쉽도록 단순하고 직관적으로 만든다.
노선도의 정확성은 의미가 없다. 노선을 타고, 갈아타는 목적에만 집중한 결과이다.

## 추상화를 통한 복잡성 극복

지하철 노선도는 불필요한 정보를 제거하여 단순함을 달성한 추상화의 예이다.
승객들이 노선도를 사용하면서 필요한 역 사이의 연결 관계에만 집중하여 목적에 맞게 단순화되었다.

책에서의 추상화의 정의는 다음과 같다.   
`추상화` : 어떤 양상 세부사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복한다.

* 첫 번째 차원은 구체적인 사물들 간의 공통점은 취하고 차이점은 버리는 일반화를 통해 단순하게 만드는 것이다.
* 두 번째 차원은 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써 단순하게 만드는 것이다.

## 객체 지향과 추상화

앨리스 이야기로 가보자
앨리스는 트럼프 여왕, 공주, 왕자, 신하, 정원사 등 여러 객체들을 만나며 저마다의 독특한 특징이 있다.
앨리스는 많은 트럼프 객체들을 `트럼프에 불과해`로 하나로 생각하고 있다. 
토끼를 제외하고 모든 객체를 트럼프라는 공통점만으로 단순화 시켰다.

### 그룹으로 나누어 단순화하기

트럼프 객체들은 각각의 특징들이 존재한다. 
하지만 우리는 각가의 독특한 특징의 객체들을 트럼프로 묶어 말할 수 있다.
객체들은 트럼프의 외형을 공통으로 지니기 때문에 트럼프로 마할 수 있는 것이다.
토끼는 트럼프의 특징이 없어 같은 그룹으로 나누어지지 않는다.

### 개념

앨리스가 인물들의 차이점을 무시하고 트럼프라는 개념으로 단순화한 것은 추상화의 일종이다.
여러 트럼프 객체들을 나열하지 않고 깔끔하게 추상화하였다.

객체들을 개별적인 단위로 취급하기에는 힘들다.
따라서 공통적인 특성을 묶어 단순화를 시켜야 한다.

공통점을 기반으로 객체들을 묶기 위한 그릇을 `개념`이라고 한다.
개념을 이용하면 객체 여러 그룹으로 `분류`할 수 있다.
하트 여왕이 트럼프 개념의 일원인 것처럼 개념 그룹의 일원의 객체를 인스턴스라고 한다.

개념을 통해 다양한 객체를 단순화하자

### 개념의 세 가지 관점

객체의 분류하는 개념은 다음의 세 가지 관점을 언급한다.

* 심볼 : 개념을 가리키는 간략한 이름이나 명칭
* 내연 : 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지를 여부를 확인할 수 있다.
* 외연 : 개념에 속하는 모든 객체의 집합

앨리스 이야기를 비유하면 다음과 같다.

* 심볼 : 트럼프
* 내연 : 몸이 납작하고 두 손과 두 발은 네모 귀퉁이에 달려 있는 등장인물
* 외연 : 여왕, 병사, 신하 등등

### 객체를 분류하기 위한 틀

분류는 객체지향의 중요한 개념이다.
분류란 특정한 객체를 특정한 개념의 객체 집합에 포함시키거나 하지 않는 것이다.
적절한 개념으로 분류하여 품질을 높이자.

## 타입

컴퓨터 공학자들은 개념을 대신한 용어로 `타입`이라는 용어를 사용한다.

타입 두 가지의 특징이 있다.

* 타입은 데이터가 어떻게 사용되느냐에 관한 것이다. 
정수 데이터로 연산을 하고 문자 데이터로 새로운 문자열을 만들며 어떤 데이터냐에 따라 그에 따른 연산을 한다.

* 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저하게 감춰진다.
해당 데이터 타입 표현 방식을 몰라도 데이터를 사용하는 데 지장이 없다.

### 객체와 타입

객체는 데이터인가? 아니다.
앞에 장에서 강조하였듯이 객체의 중요한 것은 행동이다. 
타입에서 언급했던 것처럼 객체의 타입도 동일하다.

* 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 행동이다. 
* 객체의 내부적인 표현은 외부로부터 철저하게 감춰진다.

### 행동이 우선이다.

객체의 내부 표현 방식이 다르더라도 행동이 같다면 동일한 타입이다.
반대로 동일한 데이터를 가지더라도 다른 행동을 하면 다른 타입이다.

객체의 타입을 결정하는 것은 객체의 행동뿐이다.

## 타입의 계층

앨리스의 트럼프 인간들은 트럼프는 아니다. 
트럼프보다 좀 더 특화던 행동을 하는 객체들이다.

이러한 관점에서 트럼프는 트럼프 인간을 포괄하는 좀 더 일반적인 개념이다.
위의 관계를 일반화/특수화 관계라고 한다.

관계를 결정짓는 것 역시 행동이다.
일반적인 타입 : 특수한 타입이 가진 모든 행동들 중에서 일부 행동만을 가지는 타입
특수한 타입 : 일반적인 타입이 가진 모든 타입을 포함하면서 자신만의 행동을 추가한 타입

트럼프와 트럼프 인간 모두 납작 엎드리고, 뒤집어지는 것이 일반적인 타입이며
걸을 때마다 팔락거리는 것이 특수한 타입이다.

## 슈퍼 타입과 서브 타입

일반적인 타입을 슈퍼타입 이라고 하고
특수한 타입을 서브타입 이라고 한다.

두 관계는 행위적 호환성이 있어 서브타입은 슈퍼 타입을 대체할 수 있다.


객체를 분류하는 기준은 타입이며, 타입을 나누는 기준은 객체가 수행하는 행동임을 기억하자
